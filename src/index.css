@import url("https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap");

:root {
    --primary-color: #01a5e4;
    --primary-color-hover: #55C2ED;
    --secondary-color: #fff;
    --bg-color: #f9f9f9;
    --text-primary-color: #333;
    --text-secondary-color: #8a8a8a;
    --fade-color: rgba(0, 0, 0, 0.5);
    --shadow-color: rgba(0, 0, 0, 0.1);
    --border-color: rgba(0, 0, 0, 0.212);
    --error-color: #ffc0c0;
    --error-color-text: #881010;
    --correct-color: #4caf50;
    --correct-bg: rgba(76, 175, 80, 0.1);
    --incorrect-color: #f44336;
    --incorrect-bg: rgba(244, 67, 54, 0.1);
    --difficulty-easy: #4caf50;
    --difficulty-easy-bg: rgba(76, 175, 80, 0.1);
    --difficulty-easy-light: #e8f5e9;
    --difficulty-medium: #ff9800;
    --difficulty-medium-bg: rgba(255, 152, 0, 0.1);
    --difficulty-medium-light: #fff3e0;
    --difficulty-hard: #f44336;
    --difficulty-hard-bg: rgba(244, 67, 54, 0.1);
    --difficulty-hard-light: #ffebee;

    /* Light Theme Input */
    --input-bg-color: #fafafa;
    --input-focus-bg-color: #fff;
    --input-text-color: var(--text-primary-color);
    --input-placeholder-color: var(--text-secondary-color);
    --input-border-color: var(--border-color);
    --select-arrow-color: '%23666';

    /* --- NOVA VARIÁVEL PARA SOMBRA RÍGIDA --- */
    --hard-shadow-color: var(--border-color);


    /* --- Dark Mode Variables --- */
    --dark-secondary-color: #1e1e1e;
    --dark-bg-color: #121212;
    --dark-text-primary-color: #e0e0e0;
    --dark-text-secondary-color: #a0a0a0;
    --dark-border-color: rgba(255, 255, 255, 0.25);
    
    /* --- MUDANÇA AQUI --- */
    /* Agora a sombra é transparente no modo escuro */
    --dark-shadow-color: transparent; 
    
    --dark-input-bg: #2a2a2a;
    --dark-input-focus-bg-color: #333333;
    --dark-error-color: #5c1f1f;
    --dark-error-color-text: #ff9e9e;
    --dark-select-arrow-color: '%23a0a0a0';
}

/* --- Dark Mode Overrides --- */
[data-theme='dark'] {
    --secondary-color: var(--dark-secondary-color);
    --bg-color: var(--dark-bg-color);
    --text-primary-color: var(--dark-text-primary-color);
    --text-secondary-color: var(--dark-text-secondary-color);
    --border-color: var(--dark-border-color);
    --shadow-color: var(--dark-shadow-color); /* Carrega o 'transparent' */
    --error-color: var(--dark-error-color);
    --error-color-text: var(--dark-error-color-text);

    /* --- MUDANÇA AQUI --- */
    /* Remove a sombra rígida dos cards */
    --hard-shadow-color: transparent;

    /* Input Overrides for Dark Mode */
    --input-bg-color: var(--dark-input-bg);
    --input-focus-bg-color: var(--dark-input-focus-bg-color);
    --input-text-color: var(--dark-text-primary-color);
    --input-placeholder-color: var(--dark-text-secondary-color);
    --input-border-color: var(--dark-border-color);
    --select-arrow-color: var(--dark-select-arrow-color);

    /* Force input background/color/border in dark mode if needed */
    input[type="text"],
    input[type="email"],
    input[type="password"],
    textarea,
    select {
        background-color: var(--input-bg-color) !important;
        color: var(--input-text-color) !important;
        border-color: var(--input-border-color) !important;
    }

    input[type="color"] {
        background-color: var(--input-bg-color) !important;
        border-color: var(--input-border-color) !important;
    }
    input[type="color"]::-webkit-color-swatch {
        border: 1px solid var(--border-color);
    }
    input[type="color"]::-moz-color-swatch {
        border: 1px solid var(--border-color);
    }

    input::placeholder,
    textarea::placeholder {
        color: var(--input-placeholder-color) !important;
    }

    select {
       background-image: url("data:image/svg+xml;charset=US-ASCII,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 5'><path fill='var(--select-arrow-color)' d='m0 1 2 2 2-2z'/></svg>") !important;
    }
}
/* --- End Dark Mode Overrides --- */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: "Montserrat", sans-serif;
}

html,
body {
    scroll-behavior: smooth;
    background: var(--bg-color);
    color: var(--text-primary-color);
    font-size: 8px;
    /* --- TRANSIÇÃO SUAVE AQUI --- */
    transition: background-color 0.3s ease, color 0.3s ease;
}

/* --- Base Input Styles using Variables (Applied Globally) --- */
input[type="text"],
input[type="email"],
input[type="password"],
textarea,
select {
    /* Dimensions and basic appearance */
    width: 100%;
    padding: 0.9rem 1rem;
    border-radius: 0.2rem;
    font-size: 1rem;
    box-sizing: border-box;
    appearance: none; /* Important to reset browser defaults */

    /* Colors and borders using variables */
    background-color: var(--input-bg-color);
    color: var(--input-text-color);
    border: 1px solid var(--input-border-color);

    /* --- TRANSIÇÃO SUAVE AQUI --- */
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}

/* Base style for color input */
input[type="color"] {
    min-width: 60px;
    height: 50px;
    border: 1px solid var(--input-border-color); /* Use variable */
    border-radius: 0.2rem;
    cursor: pointer;
    background: var(--input-bg-color); /* Use variable */
    padding: 0 !important;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    transition: all 0.3s ease;
    vertical-align: middle;
}
input[type="color"]::-webkit-color-swatch,
input[type="color"]::-moz-color-swatch {
    border: none;
    border-radius: 0.2rem;
    padding: 0;
}
input[type="color"]::-webkit-color-swatch-wrapper {
    padding: 0;
    border: none;
}


/* Specific style for select dropdown arrow */
select {
    background-image: url("data:image/svg+xml;charset=US-ASCII,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 5'><path fill='var(--select-arrow-color)' d='m0 1 2 2 2-2z'/></svg>");
    background-repeat: no-repeat;
    background-position: right 1rem center;
    background-size: 12px;
    padding-right: 2.5rem;
}

/* Placeholder styling */
input::placeholder,
textarea::placeholder {
    color: var(--input-placeholder-color); /* Use variable */
}

/* Focus styles using variables */
input[type="text"]:focus,
input[type="email"]:focus,
input[type="password"]:focus,
textarea:focus,
select:focus,
input[type="color"]:focus {
    outline: none;
    border-color: var(--primary-color); /* Keep primary color for focus border */
    box-shadow: 0 0 0 3px rgba(1, 165, 228, 0.1);
    background-color: var(--input-focus-bg-color); /* Use focus variable */
}
/* --- End Base Input Styles --- */

#loader {
    font-weight: bold;
    color: var(--text-secondary-color);
    animation: colorChange 2s infinite ease-in-out;
}

@keyframes colorChange {
    0% { color: #d3d3d3; } /* lightgray */
    50% { color: #808080; } /* gray */
    100% { color: #d3d3d3; } /* lightgray */
}

/* Media Queries */
@media (min-width: 992px) { html, body { font-size: 12px; } }
@media (min-width: 1200px) { html, body { font-size: 14px; } }
@media (min-width: 1400px) { html, body { font-size: 16px; } }